(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 10.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     12839,        377]
NotebookOptionsPosition[     11648,        329]
NotebookOutlinePosition[     11988,        344]
CellTagsIndexPosition[     11945,        341]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["FullBody", "Title",
 CellChangeTimes->{{3.620401822339506*^9, 3.6204018386815963`*^9}}],

Cell[CellGroupData[{

Cell["Load Package", "Section",
 CellChangeTimes->{{3.620401953847924*^9, 3.620401986390972*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"SetDirectory", "[", "\"\<D:\\\\git\\\\geonb\>\"", "]"}], ";", 
  RowBox[{"Needs", "[", 
   RowBox[{"\"\<Posecpp`\>\"", ",", "\"\<./posecpp_network.wl\>\""}], 
   "]"}]}]], "Input"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Kmean Center Extract", "Section",
 CellChangeTimes->{{3.620400854047604*^9, 3.6204008978640585`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"comm3", "//", "Length"}]], "Input",
 CellChangeTimes->{{3.6204027587780952`*^9, 3.620402763616563*^9}}],

Cell[BoxData["32"], "Output",
 CellChangeTimes->{3.62040276404696*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"comm3", "[", 
  RowBox[{"[", 
   RowBox[{"1", ";;", "11"}], "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.620402766011774*^9, 3.620402788382428*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
    "151", ",", "861", ",", "104", ",", "208", ",", "613", ",", "746", ",", 
     "884", ",", "118", ",", "162", ",", "785", ",", "923", ",", "637", ",", 
     "670", ",", "751", ",", "847", ",", "314", ",", "512", ",", "523", ",", 
     "541", ",", "744", ",", "313", ",", "354", ",", "787", ",", "947", ",", 
     "689", ",", "771", ",", "783", ",", "798", ",", "489", ",", "538", ",", 
     "887"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "28", ",", "60", ",", "189", ",", "245", ",", "585", ",", "710", ",", 
     "777", ",", "786", ",", "1004", ",", "422", ",", "446", ",", "914", ",", 
     "982", ",", "997", ",", "690", ",", "688", ",", "935", ",", "702", ",", 
     "895"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "100", ",", "248", ",", "451", ",", "496", ",", "709", ",", "130", ",", 
     "517", ",", "227", ",", "338", ",", "693", ",", "418", ",", "954", ",", 
     "968", ",", "969", ",", "844", ",", "804", ",", "890"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "223", ",", "387", ",", "605", ",", "726", ",", "261", ",", "404", ",", 
     "735", ",", "302", ",", "946", ",", "649", ",", "919", ",", "435", ",", 
     "701", ",", "543", ",", "839", ",", "828"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "23", ",", "149", ",", "553", ",", "607", ",", "45", ",", "65", ",", 
     "568", ",", "817", ",", "283", ",", "484", ",", "615", ",", "811"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "161", ",", "294", ",", "888", ",", "938", ",", "960", ",", "291", ",", 
     "465", ",", "764", ",", "869", ",", "583", ",", "604", ",", "886"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "55", ",", "653", ",", "93", ",", "453", ",", "228", ",", "263", ",", 
     "348", ",", "999", ",", "276", ",", "352", ",", "996"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "3", ",", "889", ",", "965", ",", "225", ",", "555", ",", "518", ",", 
     "741"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "74", ",", "629", ",", "117", ",", "320", ",", "624", ",", "635", ",", 
     "264"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "91", ",", "235", ",", "316", ",", "284", ",", "488", ",", "815"}], "}"}],
    ",", 
   RowBox[{"{", 
    RowBox[{"102", ",", "271", ",", "810", ",", "910", ",", "408"}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{{3.620402772106413*^9, 3.620402788700722*^9}}]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"defined", " ", "=", " ", 
   RowBox[{"summary", "[", 
    RowBox[{"[", 
     RowBox[{";;", ",", "1"}], "]"}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.6204080235506206`*^9, 3.6204080396835155`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"voroComms", "=", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"Intersection", "[", 
     RowBox[{"defined", ",", "#"}], "]"}], "&"}], "/@", 
   RowBox[{"comm3", "[", 
    RowBox[{"[", 
     RowBox[{"1", ";;", "11"}], "]"}], "]"}]}]}]], "Input",
 CellChangeTimes->{{3.6204080433719215`*^9, 3.6204081162592154`*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
    "104", ",", "118", ",", "151", ",", "162", ",", "208", ",", "313", ",", 
     "314", ",", "354", ",", "489", ",", "512", ",", "523", ",", "538", ",", 
     "541", ",", "613", ",", "637", ",", "670", ",", "689", ",", "744", ",", 
     "746", ",", "751", ",", "771", ",", "783", ",", "785", ",", "787", ",", 
     "798", ",", "847", ",", "861", ",", "884", ",", "887", ",", "923", ",", 
     "947"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "28", ",", "60", ",", "189", ",", "245", ",", "422", ",", "446", ",", 
     "585", ",", "688", ",", "690", ",", "702", ",", "710", ",", "777", ",", 
     "786", ",", "895", ",", "914", ",", "935", ",", "982", ",", "997", ",", 
     "1004"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "100", ",", "130", ",", "227", ",", "248", ",", "338", ",", "418", ",", 
     "451", ",", "496", ",", "517", ",", "693", ",", "709", ",", "804", ",", 
     "844", ",", "890", ",", "954", ",", "968", ",", "969"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "223", ",", "261", ",", "302", ",", "387", ",", "404", ",", "435", ",", 
     "543", ",", "605", ",", "649", ",", "701", ",", "726", ",", "735", ",", 
     "828", ",", "839", ",", "919", ",", "946"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "23", ",", "45", ",", "65", ",", "149", ",", "283", ",", "484", ",", 
     "553", ",", "568", ",", "607", ",", "615", ",", "811", ",", "817"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "161", ",", "291", ",", "294", ",", "465", ",", "583", ",", "604", ",", 
     "764", ",", "869", ",", "886", ",", "888", ",", "938", ",", "960"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "55", ",", "93", ",", "228", ",", "263", ",", "276", ",", "348", ",", 
     "352", ",", "453", ",", "653", ",", "999"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"3", ",", "225", ",", "518", ",", "555", ",", "889", ",", "965"}],
     "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "74", ",", "117", ",", "264", ",", "320", ",", "624", ",", "629", ",", 
     "635"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"91", ",", "235", ",", "284", ",", "316", ",", "488"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"102", ",", "271", ",", "408", ",", "810", ",", "910"}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{{3.6204080895645695`*^9, 3.6204081172140975`*^9}}]
}, Open  ]],

Cell[BoxData[""], "Input",
 CellChangeTimes->{{3.6204077915584283`*^9, 3.6204077923941994`*^9}, {
  3.6204078396938705`*^9, 3.6204078406357403`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"centers", " ", "=", 
  RowBox[{"Mean", "/@", 
   RowBox[{"Map", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{"gx", "[", "#", "]"}], ",", 
        RowBox[{"gy", "[", "#", "]"}], ",", 
        RowBox[{"gs", "[", "#", "]"}]}], "}"}], "&"}], ",", "voroComms", ",", 
     
     RowBox[{"{", "2", "}"}]}], "]"}]}]}]], "Input",
 CellChangeTimes->{{3.6204078491005554`*^9, 3.6204078857573996`*^9}, {
  3.620407936308072*^9, 3.6204079783538914`*^9}, {3.6204081059887333`*^9, 
  3.6204081567125654`*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"0.3914725483870967`", ",", 
     RowBox[{"-", "0.04426977419354839`"}], ",", "0.3848169032258065`"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0.24536752631578942`", ",", 
     RowBox[{"-", "0.015305473684210522`"}], ",", "0.5552925263157893`"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0.5120397058823529`", ",", 
     RowBox[{"-", "0.06421752941176469`"}], ",", "0.31834023529411776`"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "0.17224212500000002`", ",", "0.260741375`", ",", "0.4034145625000001`"}],
     "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "0.605693`", ",", "0.04329766666666667`", ",", "0.3576499166666667`"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "0.635382`", ",", "0.19907566666666665`", ",", "0.3752750833333333`"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "0.42023589999999994`", ",", "0.4180980999999999`", ",", "0.3371669`"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "0.5726975`", ",", "0.34938566666666665`", ",", "0.35334166666666667`"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "0.3918305714285714`", ",", "0.7201778571428571`", ",", 
     "0.30833099999999997`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "0.5673320000000001`", ",", "0.6985568000000001`", ",", "0.3609054`"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "0.32335539999999996`", ",", "0.49948699999999996`", ",", 
     "0.42997680000000005`"}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{{3.6204079486895027`*^9, 3.6204079787222314`*^9}, 
   3.620408121694234*^9, 3.6204081572480593`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ListPointPlot3D", "[", "centers", "]"}]], "Input",
 CellChangeTimes->{{3.6204081303482237`*^9, 3.62040814511786*^9}, {
  3.6204081910112324`*^9, 3.620408199990523*^9}}],

Cell[BoxData[
 Graphics3DBox[
  {RGBColor[0.3315753, 0.4561011, 0.6388182], 
   Point3DBox[{{0.3914725483870967, -0.04426977419354839, 
    0.3848169032258065}, {0.24536752631578942`, -0.015305473684210522`, 
    0.5552925263157893}, {0.5120397058823529, -0.06421752941176469, 
    0.31834023529411776`}, {0.17224212500000002`, 0.260741375, 
    0.4034145625000001}, {0.605693, 0.04329766666666667, 
    0.3576499166666667}, {0.635382, 0.19907566666666665`, 
    0.3752750833333333}, {0.42023589999999994`, 0.4180980999999999, 
    0.3371669}, {0.5726975, 0.34938566666666665`, 0.35334166666666667`}, {
    0.3918305714285714, 0.7201778571428571, 0.30833099999999997`}, {
    0.5673320000000001, 0.6985568000000001, 0.3609054}, {0.32335539999999996`,
     0.49948699999999996`, 0.42997680000000005`}}]},
  AutomaticImageSize->True,
  Axes->True,
  AxesLabel->{None, None, None},
  BoxRatios->{1, 1, 0.4},
  FaceGridsStyle->Automatic,
  ImageSize->{353.5756007470234, 259.71617278550644`},
  PlotRange->{{0.17224212500000002`, 0.635382}, {-0.06421752941176469, 
    0.7201778571428571}, Automatic},
  PlotRangePadding->{{
     Scaled[0.02], 
     Scaled[0.02]}, {
     Scaled[0.02], 
     Scaled[0.02]}, {Automatic, Automatic}},
  Ticks->{Automatic, Automatic, Automatic},
  ViewPoint->{1.24731005331272, -2.675136018423367, 1.6546494836789443`},
  ViewVertical->{0.007858833797421454, -0.13076228036440982`, 
   2.4784565065344144`}]], "Output",
 CellChangeTimes->{{3.6204081397368927`*^9, 3.6204081600126114`*^9}, {
  3.6204081934334693`*^9, 3.620408200414914*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Export", "[", 
  RowBox[{
   RowBox[{"home", "<>", "\"\</fullbody/voro_centers.txt\>\""}], ",", 
   "centers"}], "]"}]], "Input",
 CellChangeTimes->{{3.6204085311903105`*^9, 3.62040857680943*^9}}],

Cell[BoxData["\<\"Y:/posecpp/fullbody/voro_centers.txt\"\>"], "Output",
 CellChangeTimes->{{3.620408572753685*^9, 3.620408577464034*^9}}]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{931, 911},
WindowMargins->{{Automatic, 365}, {177, Automatic}},
FrontEndVersion->"10.0 for Linux x86 (64-bit) (September 9, 2014)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 93, 1, 96, "Title"],
Cell[CellGroupData[{
Cell[698, 27, 97, 1, 67, "Section"],
Cell[798, 30, 215, 5, 32, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[1050, 40, 107, 1, 67, "Section"],
Cell[CellGroupData[{
Cell[1182, 45, 127, 2, 32, "Input"],
Cell[1312, 49, 70, 1, 32, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[1419, 55, 173, 4, 32, "Input"],
Cell[1595, 61, 2423, 56, 209, "Output"]
}, Open  ]],
Cell[4033, 120, 240, 6, 32, "Input"],
Cell[CellGroupData[{
Cell[4298, 130, 334, 9, 32, "Input"],
Cell[4635, 141, 2380, 54, 209, "Output"]
}, Open  ]],
Cell[7030, 198, 149, 2, 32, "Input"],
Cell[CellGroupData[{
Cell[7204, 204, 558, 15, 32, "Input"],
Cell[7765, 221, 1648, 48, 143, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[9450, 274, 192, 3, 32, "Input"],
Cell[9645, 279, 1566, 32, 275, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[11248, 316, 220, 5, 32, "Input"],
Cell[11471, 323, 137, 1, 32, "Output"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
